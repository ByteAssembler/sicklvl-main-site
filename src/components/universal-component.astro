---
import type { ComponentProps } from "src/env";
import Label from "./label.astro";
import Button from "./button.astro";
import Input from "./input.astro";
import Select from "./select.astro";
import FileUpload from "./file-upload.astro";
import Fieldset from "./fieldset.astro";
import PerfectImage from "./perfect-image.astro";
import PerfectVideo from "./perfect-video.astro";

type Props = ComponentProps;
let props = Astro.props;

const renderOther = [
    "image",
    "video",
    "label",
    "button",
    "fieldset",
    "file",
    "select",
].includes(props?.type ?? "text");
---

{
    renderOther ? (
        <>
            {props.type === "image" && <PerfectImage {...props} />}
            {props.type === "video" && <PerfectVideo {...props} />}
            {props.type === "label" && <Label {...props} />}
            {props.type === "button" && <Button {...props} />}
            {props.type === "fieldset" && <Fieldset {...props} />}
            {props.type === "file" && <FileUpload {...props} />}
            {props.type === "select" && <Select {...props} />}
        </>
    ) : (
        // @ts-ignore
        <Input {...props} type={props?.type ?? "text"} />
    )
}
