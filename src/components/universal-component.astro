---
import type { ComponentProps } from "src/env";
import Label from "./label.astro";
import Button from "./button.astro";
import Input from "./input.astro";
import Select from "./select.astro";
import FileUpload from "./file-upload.astro";
import Fieldset from "./fieldset.astro";
import PerfectImage from "./perfect-image.astro";
import PerfectVideo from "./perfect-video.astro";
import FilesOrFolderUpload from "./files-or-folder-upload.astro";

type Props = ComponentProps;
let props = Astro.props;

const renderOther = [
    "image",
    "video",
    "label",
    "button",
    "fieldset",
    "file",
    "select",
    "files-or-folder",
].includes(props?.type ?? "text");
---

{renderOther && props.type === "image" && <PerfectImage {...props} />}
{renderOther && props.type === "video" && <PerfectVideo {...props} />}
{renderOther && props.type === "label" && <Label {...props} />}
{renderOther && props.type === "button" && <Button {...props} />}
{renderOther && props.type === "fieldset" && <Fieldset {...props} />}
{renderOther && props.type === "file" && <FileUpload {...props} />}
{renderOther && props.type === "select" && <Select {...props} />}
{
    renderOther && props.type === "files-or-folder" && (
        <FilesOrFolderUpload {...props} />
    )
}

{/*!renderOther && <Input {...props} type={props?.type ?? "text"} />*/}
{!renderOther && <Input {...(props as any)} type={props?.type ?? "text"} />}
